---
# I store a lot of sensor data into InfluxDB, which allows me to query
# a longer history with ease. I use the Community Hass.io add-on for this,
# combined with the Community Hass.io Grafana add-on for the graphs.
#
# https://github.com/hassio-addons/addon-influxdb
# https://github.com/hassio-addons/addon-grafana
# https://www.home-assistant.io/components/influxdb/
#
influxdb:
  host: a0d7b954-influxdb
  port: 8086
  database: homeassistant
  username: !secret influxdb_user
  password: !secret influxdb_password
  max_retries: 3

  # use whitelist which metrics are pushed to InfluxDB
  include:
    entities:
      - binary_sensor.pool_filterpumpe_state
      - binary_sensor.pool_valve_state
      - sensor.backyard_lights_rssi
      - sensor.backyard_pond_lights_rssi
      - sensor.carport_light_rssi
      - sensor.children_stars_rssi
      - sensor.frontyard_treelight_rssi
      - sensor.funksteckdose_aquarium_power
      - sensor.funksteckdose_gefrierschrank_power
      - sensor.funksteckdose_office_power
      - sensor.funksteckdose_spuli_power
      - sensor.garden_luftdaten_air_quality_pm2_5
      - sensor.garden_luftdaten_air_quality_pm10
      - sensor.garden_luftdaten_pm_10
      - sensor.garden_luftdaten_pm_2_5
      - sensor.garden_luftdaten_rssi
      - sensor.humidity_bathroom
      - sensor.humidity_bathroom
      - sensor.humidity_bedroom
      - sensor.humidity_equipmentroom
      - sensor.humidity_garden
      - sensor.humidity_livingroom
      - sensor.humidity_mia
      - sensor.humidity_office
      - sensor.kitchen_sensor_rssi
      - sensor.pool_filterpumpe_power
      - sensor.pumpe_zisterne_power
      - sensor.sonnendeck_led_power
      - sensor.sonnendeck_steckdosen_power
      - sensor.speedtest_download
      - sensor.speedtest_ping
      - sensor.speedtest_upload
      - sensor.temperature_attic
      - sensor.temperature_bathroom
      - sensor.temperature_bedroom
      - sensor.temperature_equipmentroom
      - sensor.temperature_garden
      - sensor.temperature_livingroom
      - sensor.temperature_mia
      - sensor.temperature_office
      - sensor.temperature_solar
      - sensor.temperatursensor_pool_1_temperature
      - sensor.temperatursensor_pool_2_temperature
      - sensor.watertank_liter

  component_config_glob:
    sensor.garden_luftdaten_air_quality*:
      override_measurement: air_quality
    binary_sensor.pool_*_state:
      override_measurement: pool_operation

  tags:
    instance: prod
    source: hass
