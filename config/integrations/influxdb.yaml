---
# I store a lot of sensor data into InfluxDB, which allows me to query
# a longer history with ease. I use the Community Hass.io add-on for this,
# combined with the Community Hass.io Grafana add-on for the graphs.
#
# https://github.com/hassio-addons/addon-influxdb
# https://github.com/hassio-addons/addon-grafana
# https://www.home-assistant.io/integrations/influxdb/
#
influxdb:
  host: a0d7b954-influxdb
  port: 8086
  database: homeassistant
  username: !secret influxdb_user
  password: !secret influxdb_password
  max_retries: 3

  include:
    entities:
      - binary_sensor.pool_pump_state
      - binary_sensor.pool_valve_state
      - sensor.attic_humidity
      - sensor.attic_temperature
      - sensor.bathroom_humidity
      - sensor.bathroom_temperature
      - sensor.bedroom_humidity
      - sensor.bedroom_temperature
      - sensor.equipmentroom_humidity
      - sensor.equipmentroom_temperature
      - sensor.garden_backyard_lights_rssi
      - sensor.garden_carport_volvo_rssi
      - sensor.garden_frontyard_treelight_rssi
      - sensor.garden_humidity
      - sensor.garden_luftdaten_air_quality_pm10
      - sensor.garden_luftdaten_air_quality_pm2_5
      - sensor.garden_luftdaten_pm_10
      - sensor.garden_luftdaten_pm_2_5
      - sensor.garden_luftdaten_rssi
      - sensor.garden_pond_light_rssi
      - sensor.garden_sundeck_sockets_power
      - sensor.garden_sundeck_spots_power
      - sensor.garden_temperature
      - sensor.garden_watertank_liter
      - sensor.garden_watertank_pump_power
      - sensor.garden_watertank_wifi
      - sensor.kitchen_dishwasher_power
      - sensor.kitchen_fridge_temperature
      - sensor.kitchen_rssi
      - sensor.kitchen_temperature
      - sensor.laundryroom_freezer_power
      - sensor.livingroom_humidity
      - sensor.livingroom_temperature
      - sensor.nursery_humidity
      - sensor.nursery_stars_rssi
      - sensor.nursery_temperature
      - sensor.office_desk_power
      - sensor.office_humidity
      - sensor.office_temperature
      - sensor.pool_pump_power
      - sensor.pool_solar_temperature
      - sensor.pool_water_temperature_1
      - sensor.pool_water_temperature_2
      - sensor.speedtest_download
      - sensor.speedtest_ping
      - sensor.speedtest_upload

  component_config_glob:
    sensor.garden_luftdaten_air_quality*:
      override_measurement: air_quality
    binary_sensor.pool_*_state:
      override_measurement: pool_operation

  tags:
    instance: prod
    source: hass
