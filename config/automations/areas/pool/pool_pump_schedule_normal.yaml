---
# Automation to run the daily default pool pump schedule.
#
# Default control is time based but if we still have enough warm water on
# the carport roof the pump is not turned off
#
alias: "[Pool] Daily normal pool pump schedule - on"
trigger:
  - platform: time
    at: "8:00:00"
  - platform: time
    at: "13:00:00"
  - platform: time
    at: "18:00:00"
  - platform: time
    at: "01:00:00"
action:
  - service: notify.pushover_markus
    data_template:
      title: "JaMa Villa"
      message: >
        Pool Control - pool pump = <b>on</b>
      data:
        html: 1
  - service: switch.turn_on
    entity_id: switch.pool_filterpumpe
  - delay: "03:00"
  - service: switch.turn_off
    entity_id: switch.pool_filterpumpe
  - service: notify.pushover_markus
    data_template:
      title: "JaMa Villa"
      message: >
        Pool Control - pool pump = <b>off</b>
      data:
        html: 1
