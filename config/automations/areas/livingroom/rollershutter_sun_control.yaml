---
# When the weather forecast predicts a sunny day with temperature > 25°C
# or the actually temperature is already > 25°C then better close the livingroom roller shutter.
#
#
alias: "[House] Turn down the roller shutter on hot days"
initial_state: true
trigger:
  - platform: numeric_state
    entity_id: weather.dark_sky
    value_template: "{{ state.attributes.temperature }}"
    above: 25
  - platform: numeric_state
    entity_id: sensor.temperature_garden
    above: 25
condition:
  condition: and
  conditions:
    - condition: time
      after: "08:00:00"
      before: "16:00:00"
    - condition: numeric_state
      entity_id: cover.wohnzimmer_tv
      value_template: "{{ state.attributes.current_position }}"
      below: 35
action:
  - service: cover.set_cover_position
    data:
      entity_id: cover.wohnzimmer_sofa
      position: 40
  - service: cover.set_cover_position
    data:
      entity_id: cover.wohnzimmer_tv
      position: 40
  - service: cover.set_cover_position
    data:
      entity_id: cover.essbereich
      position: 40
