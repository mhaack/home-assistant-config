---
# Roller shutter notification
#
alias: "[Notify] Send roller shutter notifications"
trigger:
  platform: state
  entity_id:
    - cover.essbereich
    - cover.kinderzimmer
    - cover.kinderzimmer_bett
    - cover.kuche
    - cover.schlafzimmer
    - cover.wohnzimmer_schiebetur
    - cover.wohnzimmer_sofa
    - cover.wohnzimmer_tv
condition:
  condition: state
  entity_id: input_boolean.send_notification
  state: "on"
action:
  service: notify.pushover_markus
  data_template:
    title: "JaMa Villa"
    message: >
      {% if trigger.to_state.state | lower == "open" %}
        Rollo {{ trigger.to_state.attributes.friendly_name }} ist offen.
      {% elif trigger.to_state.state | lower == "closed" %}
        Rollo {{ trigger.to_state.attributes.friendly_name }} ist geschlossen.
      {% endif %}
